# Lesson 23／Chapter 2  
## 社内情報特化型生成AI検索アプリ プロジェクト概要

---

### 1. プロジェクト概要

社内に蓄積されたPDF・DOCX・CSV等のドキュメントや指定のWebサイトから、生成AI（LLM）を活用して**必要な情報を自然言語で検索・要約・抽出**できるアプリケーションです。
RAG（Retrieval-Augmented Generation）構成を採用し、社内問い合わせや文書検索業務の効率化・自動化を目指します。

---

### 2. 主な機能

- **2つの動作モード**:
    - **社内文書検索**: 入力内容と関連性の高いドキュメントの場所（ファイルパスやURL）を提示します。
    - **社内問い合わせ**: 社内情報をもとに、質問や要望に対して具体的な回答を生成します。
- **多様なデータソース対応**:
    - ローカルファイル: `.pdf`, `.docx`, `.csv`
    - Webページ: 指定したURLのコンテンツ
- **会話履歴の記憶**: 過去のやり取りを踏まえた対話が可能です。
- **RAGによる高精度な回答**: ChromaDBをベクトルストアとして利用し、関連情報をLLMに提供することで、ハルシネーションを抑制し、根拠に基づいた回答を生成します。

---

### 3. ディレクトリ構成

```
.
├── .venv/                  # Python仮想環境
├── data/                   # RAGの参照データソースを格納するディレクトリ
│   └── (ここにPDF, DOCX, CSVファイルなどを配置)
├── logs/                   # アプリケーションのログファイルが出力されるディレクトリ
│   └── application.log
├── main.py                 # Streamlitアプリ本体（エントリーポイント）
├── initialize.py           # 初期化処理（ベクトルDB構築など）
├── components.py           # UIコンポーネント・表示用関数
├── utils.py                # 汎用ユーティリティ（LLM連携など）
├── constants.py            # 定数・プロンプト管理
├── .env                    # 【作成必須】環境変数ファイル
└── readme.md               # このファイル
```

**仮想環境のアクティベート**
  ```bash
  source venv/bin/activate
  ```

**VS Codeでの設定**
VS Codeを利用する場合、以下の手順で仮想環境のPythonインタープリターを選択すると、ターミナルを開いた際に自動で仮想環境が有効になります。
1.  `Cmd + Shift + P` (macOS) または `Ctrl + Shift + P` (Windows) でコマンドパレットを開きます。
2.  `Python: Select Interpreter` と入力し、実行します。
3.  リストから `./venv/bin/python` を選択します。

---

### 3. 主要モジュール・ファイル

- `main.py`：Streamlitアプリ本体
- `initialize.py`：ベクトルストア初期化・DB構築処理
- `components.py`：UI部品・表示用関数
- `utils.py`：汎用ユーティリティ
- `constants.py`：定数管理
- その他：要件に応じて追加

---

### 4. 主な機能

- ドキュメント（PDF, txt等）から情報抽出し、ベクトル化・検索
- LLMへの関連ドキュメント埋め込み・プロンプト生成
- 検索結果のハイライト・参照ページ表示
- UIカスタマイズ（タイトル、説明文、モード切替 など）

---

### 5. 改修・実装課題（抜粋）

1. Retrieverの関連ドキュメント数変更
2. マジックナンバーの定数化
3. UIデザインの仕様準拠
4. 参照ページ番号の表示拡張
5. `.txt`ファイル対応
6. （任意）RAG精度向上

---

### 6. ゴール

- 各課題の実装・動作確認
- コードの可読性・メンテナンス性向上
- 変更履歴・ドキュメントの整備

---

### 7. 実装・質問の進め方

- 小さなタスク単位で実装／検証
- 疑問点・エラーは随時質問
- 各課題完了ごとにセルフチェック

---
